(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(n,e,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(9287)}])},9287:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>i});var o=t(7876);t(4232);let i=()=>(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:'\n<!DOCTYPE html>\n<html lang="ar">\n<head>\n  <meta charset="UTF-8" />\n  <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n  <title>معرض الصور</title>\n  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet" />\n  <style>\n    body {\n      margin: 0;\n      font-family: \'Cairo\', sans-serif;\n      padding-top: 120px;\n    }\n    .gallery {\n      display: grid;\n      grid-template-columns: repeat(2, 1fr);\n      gap: 4px;\n      padding: 0;\n    }\n    .square {\n      position: relative;\n      width: 100%;\n      padding-bottom: 100%;\n      overflow: hidden;\n      border-radius: 4px;\n      cursor: pointer;\n    }\n    .square img {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      object-fit: cover;\n      top: 0;\n      left: 0;\n    }\n    .square .label {\n  display: none;\n}\n    #scrollTopBtn {\n      position: fixed;\n      bottom: 20px;\n      right: 20px;\n      background-color: #3498db;\n      color: white;\n      border: none;\n      border-radius: 50%;\n      width: 40px;\n      height: 40px;\n      font-size: 24px;\n      cursor: pointer;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n      display: none;\n      z-index: 1000;\n    }\n    #lightbox {\n      display: none;\n      overflow: hidden;\n      position: fixed;\n      top: 0; left: 0;\n      width: 100vw;\n      height: 100vh;\n      background: rgba(0,0,0,0.8);\n      justify-content: center;\n      align-items: center;\n      z-index: 999;\n      flex-direction: column;\n      color: white;\n      text-align: center;\n    }\n    #lightbox img {\n  width: 90%;\n  height: auto;\n  transform: none;\n      transform: scale(1.5);\n      transition: transform 0.3s ease;\n      border-radius: 8px;\n    }\n    #dropzone {\n      border: 2px dashed #aaa;\n      padding: 20px;\n      margin: 10px;\n      text-align: center;\n      color: #666;\n      border-radius: 6px;\n    }\n    #categoryFilter {\n      position: fixed;\n      top: 70px;\n      left: 10px;\n      z-index: 1000;\n      background: white;\n      padding: 6px;\n      font-size: 16px;\n      border-radius: 6px;\n      box-shadow: 0 2px 8px rgba(0,0,0,0.2);\n    }\n  \n@media (pointer: coarse) {\n  #lightbox-img {\n    touch-action: none;\n    transform: none !important;\n  }\n}\n</style>\n</head>\n<body>\n\n  <div id="mainTitle" style="position: fixed; top: -5px; left: 0; width: 100%; background: white; text-align: center; padding: 4px 0 2px; z-index: 1000; font-family: \'Cairo\', sans-serif; box-shadow: 0 2px 4px rgba(0,0,0,0.1); line-height: 1.4;">\n    <div style="font-size: 24px; font-weight: bold; color: green; margin: 0;">متجري</div>\n    <div style="font-size: 13px; color: #666; margin: 2px 0 0;">مشروع كل بيت</div>\n  </div>\n\n  <button onclick="askAdmin()" style="position: absolute; top: 70px; right: 10px; z-index: 1000; background: #333; color: white; border: none; border-radius: 6px; padding: 6px 12px; cursor: pointer;">\uD83D\uDC64 أدمن</button>\n\n  <div style="position: absolute; top: 110px; right: 10px; z-index: 1000; display: flex; align-items: center; gap: 6px; background: #25D366; color: white; border-radius: 6px; padding: 4px 10px; font-size: 14px;">\n    <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp" style="width: 20px; height: 20px;">\n    <a href="https://wa.me/201097646018" target="_blank" style="color: white; text-decoration: none; direction: ltr;">01097646018</a>\n  </div>\n\n\n  <div id="adminPanel" style="display: none; flex-direction: column; gap: 10px; margin: 10px;">\n    <select id="categorySelect" style="margin-top: 100px;">\n      <option value="">-- اختر التصنيف --</option>\n      <option value="كاشات حريمي">كاشات حريمي</option>\n      <option value="بيجامات حريمي">بيجامات حريمي</option>\n      <option value="منتجات الجمال والمكياجات">منتجات الجمال والمكياجات</option>\n      <option value="إكسسوارات حريمي ">إكسسوارات حريمي </option>\n      <option value="ملابس خروج حريمي">ملابس خروج حريمي</option>\n      <option value="شنط حريمي ">شنط حريمي </option>\n      <option value="أحذية حريمي">أحذية حريمي</option>\n      <option value="أدوات منزلية">أدوات منزلية</option>\n      <option value="ملابس أطفال">ملابس أطفال</option>\n      <option value="أحذية أطفال">أحذية أطفال</option>\n      <option value="ملابس رجالي">ملابس رجالي</option>\n      <option value="أحذية رجالي">أحذية رجالي</option>\n    </select>\n    <input type="file" multiple accept="image/*" id="fileInput" />\n    <div id="dropzone">اسحب الصور هنا</div>\n    <button onclick="shuffleGallery()">لخبطة الصور</button>\n    <button onclick="confirmClearGallery()">حذف جميع الصور</button>\n  </div>\n\n  <select id="categoryFilter">\n    <option value="all">عرض الكل</option>\n    <option value="كاشات حريمي">كاشات حريمي</option>\n    <option value="بيجامات حريمي">بيجامات حريمي</option>\n    <option value="منتجات الجمال والمكياجات">منتجات الجمال والمكياجات</option>\n    <option value="إكسسوارات حريمي ">إكسسوارات حريمي </option>\n    <option value="ملابس خروج حريمي">ملابس خروج حريمي</option>\n    <option value="شنط حريمي ">شنط حريمي </option>\n    <option value="أحذية حريمي">أحذية حريمي</option>\n    <option value="أدوات منزلية">أدوات منزلية</option>\n    <option value="ملابس أطفال">ملابس أطفال</option>\n    <option value="أحذية أطفال">أحذية أطفال</option>\n    <option value="ملابس رجالي">ملابس رجالي</option>\n    <option value="أحذية رجالي">أحذية رجالي</option>\n  </select>\n\n  <p style="text-align:center; font-size:14px; color:#555; margin-top: 60px;">\n    عدد المنتجات: <span id="imageCount">0</span>\n  </p>\n\n  <div class="gallery" id="gallery"></div>\n\n  <div id="lightbox" onclick="this.style.display=\'none\'">\n    <button onclick="event.stopPropagation(); prevImage();" style="position:absolute; left:10px; top:50%; font-size:30px; background:none; border:none; color:white;">❮</button>\n    <img id="lightbox-img" src="" />\n    <button onclick="event.stopPropagation(); nextImage();" style="position:absolute; right:10px; top:50%; font-size:30px; background:none; border:none; color:white;">❯</button>\n    <p id="lightbox-category"></p>\n  </div>\n\n  <button id="scrollTopBtn" onclick="scrollToTop()">↑</button>\n\n  <script>\n    let isAdmin = false;\n    const galleryEl = document.getElementById("gallery");\n    const scrollBtn = document.getElementById("scrollTopBtn");\n    const categorySelect = document.getElementById("categorySelect");\n    const categoryFilter = document.getElementById("categoryFilter");\n    let images = [];\n    let page = 1;\n    const pageSize = 20;\n\n    function updateCounter() {\n      document.getElementById("imageCount").textContent = getFilteredImages().length;\n    }\n\n    function getFilteredImages() {\n      const selectedCategory = categoryFilter.value;\n      return selectedCategory === "all" ? images : images.filter(i => i.category === selectedCategory);\n    }\n\n    function renderChunk() {\n      const filtered = getFilteredImages();\n      const chunk = filtered.slice((page - 1) * pageSize, page * pageSize);\n      const grouped = {};\n      chunk.forEach(img => {\n        if (!grouped[img.group]) grouped[img.group] = [];\n        grouped[img.group].push(img);\n      });\n\n      Object.values(grouped).forEach(groupImgs => {\n        const img = groupImgs[0];\n        const div = document.createElement("div");\n        div.className = "square";\n\n        const image = document.createElement("img");\n        image.src = img.src;\n        image.onclick = e => {\n          e.stopPropagation();\n          openLightbox(groupImgs.map(i => i.src), img.category);\n        };\n        div.appendChild(image);\n\n        const label = document.createElement("div");\n        label.className = "label";\n        label.textContent = img.category || "";\n        div.appendChild(label);\n\n        if (isAdmin) {\n          const delBtn = document.createElement("div");\n          delBtn.textContent = "✖";\n          delBtn.style.cssText = `\n            position: absolute; top: 4px; right: 4px;\n            background: rgba(0,0,0,0.6); color: white;\n            font-size: 14px; width: 20px; height: 20px;\n            line-height: 20px; text-align: center;\n            border-radius: 50%; cursor: pointer; z-index: 10;\n          `;\n          delBtn.onclick = e => {\n            e.stopPropagation();\n            images = images.filter(i => i.id !== img.id);\n            localStorage.setItem("gallery_images", JSON.stringify(images));\n            galleryEl.innerHTML = "";\n            page = 1;\n            renderChunk();\n            updateCounter();\n          };\n          div.appendChild(delBtn);\n        }\n\n        galleryEl.appendChild(div);\n      });\n    }\n\n    function openLightbox(imgArray, category) {\n      currentLightboxImages = imgArray;\n      currentLightboxIndex = 0;\n      showLightboxImage();\n      document.getElementById("lightbox").style.display = "flex";\n      document.getElementById("lightbox-category").textContent = category || "";\n    // منع إغلاق اللايت بوكس عند الضغط على الصورة نفسها\n    document.getElementById("lightbox-img").onclick = e => {\n      e.stopPropagation();\n    };\n\n      const leftArrow = document.querySelector("#lightbox button:nth-of-type(1)");\n      const rightArrow = document.querySelector("#lightbox button:nth-of-type(2)");\n      if (imgArray.length <= 1) {\n        leftArrow.style.display = "none";\n        rightArrow.style.display = "none";\n      } else {\n        leftArrow.style.display = "block";\n        rightArrow.style.display = "block";\n      }\n    }\n\n    function showLightboxImage() {\n      document.getElementById("lightbox-img").src = currentLightboxImages[currentLightboxIndex];\n    }\n\n    function nextImage() {\n      if (currentLightboxIndex < currentLightboxImages.length - 1) {\n        currentLightboxIndex++;\n        showLightboxImage();\n      }\n    }\n\n    function prevImage() {\n      if (currentLightboxIndex > 0) {\n        currentLightboxIndex--;\n        showLightboxImage();\n      }\n    }\n\n    function handleUpload(files) {\n      const selectedCategory = categorySelect.value;\n      if (!selectedCategory) return alert("اختر تصنيفًا أولاً");\n      const newImgs = [];\n      let loaded = 0;\n      const groupId = Date.now();\n      Array.from(files).forEach(file => {\n        const reader = new FileReader();\n        reader.onload = e => {\n          newImgs.push({ id: Date.now() + Math.random(), src: e.target.result, category: selectedCategory, group: groupId });\n          loaded++;\n          if (loaded === files.length) {\n            const stored = JSON.parse(localStorage.getItem("gallery_images") || "[]");\n            const updated = [...newImgs, ...stored];\n            localStorage.setItem("gallery_images", JSON.stringify(updated));\n            images = updated;\n            galleryEl.innerHTML = "";\n            page = 1;\n            renderChunk();\n            updateCounter();\n          }\n        };\n        reader.readAsDataURL(file);\n      });\n    }\n\n    function confirmClearGallery() {\n      if (confirm("هل أنت متأكد أنك تريد حذف جميع الصور؟")) {\n        localStorage.removeItem("gallery_images");\n        images = [];\n        galleryEl.innerHTML = "";\n        page = 1;\n        updateCounter();\n      }\n    }\n\n    function shuffleGallery() {\n      images = images.sort(() => Math.random() - 0.5);\n      localStorage.setItem("gallery_images", JSON.stringify(images));\n      galleryEl.innerHTML = "";\n      page = 1;\n      renderChunk();\n      updateCounter();\n    }\n\n    function scrollToTop() {\n      window.scrollTo({ top: 0, behavior: "smooth" });\n    }\n\n    function askAdmin() {\n      const user = prompt("اسم المستخدم:");\n      const pass = prompt("كلمة السر:");\n      if (user === "2330498Aa" && pass === "2330498Aa") {\n        document.getElementById("adminPanel").style.display = "flex";\n        isAdmin = true;\n        galleryEl.innerHTML = "";\n        page = 1;\n        renderChunk();\n        updateCounter();\n      } else {\n        alert("بيانات الدخول غير صحيحة");\n      }\n    }\n\n    document.getElementById("fileInput").addEventListener("change", e => handleUpload(e.target.files));\n    categoryFilter.addEventListener("change", () => {\n      page = 1;\n      galleryEl.innerHTML = "";\n      renderChunk();\n  if (categoryFilter.value === "all") {\n    const total = getFilteredImages().length;\n    while (page * pageSize < total) {\n      page++;\n      renderChunk();\n    }\n  }\n      updateCounter();\n    });\n\n    const dropzone = document.getElementById("dropzone");\n    dropzone.addEventListener("dragover", e => {\n      e.preventDefault();\n      dropzone.style.background = "#eef";\n    });\n    dropzone.addEventListener("dragleave", () => {\n      dropzone.style.background = "";\n    });\n    dropzone.addEventListener("drop", e => {\n      e.preventDefault();\n      dropzone.style.background = "";\n      handleUpload(e.dataTransfer.files);\n    });\n\n    const stored = JSON.parse(localStorage.getItem("gallery_images") || "[]");\n    images = stored;\n    renderChunk();\n    updateCounter();\n\n    let currentLightboxIndex = 0;\n    let currentLightboxImages = [];\n  \n  window.addEventListener("scroll", () => {\n    if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight - 100) {\n      const total = getFilteredImages().length;\n      if (page * pageSize < total) {\n        page++;\n        renderChunk();\n      }\n    }\n\n    if (window.scrollY > 300) {\n      scrollBtn.style.display = "block";\n    } else {\n      scrollBtn.style.display = "none";\n    }\n  });\n\n\nlet lightboxImg = document.getElementById(\'lightbox-img\');\nlet scale = 1;\nlet lastTouchDistance = 0;\nlet startX = 0, startY = 0;\nlet moveX = 0, moveY = 0;\nlet isPanning = false;\n\nlightboxImg.addEventListener(\'touchstart\', function (e) {\n  if (e.touches.length === 2) {\n    e.preventDefault();\n    lastTouchDistance = Math.hypot(\n      e.touches[0].clientX - e.touches[1].clientX,\n      e.touches[0].clientY - e.touches[1].clientY\n    );\n  } else if (e.touches.length === 1) {\n    isPanning = true;\n    startX = e.touches[0].clientX - moveX;\n    startY = e.touches[0].clientY - moveY;\n  }\n}, { passive: false });\n\nlightboxImg.addEventListener(\'touchmove\', function (e) {\n  if (e.touches.length === 2) {\n    e.preventDefault();\n    let currentDistance = Math.hypot(\n      e.touches[0].clientX - e.touches[1].clientX,\n      e.touches[0].clientY - e.touches[1].clientY\n    );\n    let delta = currentDistance - lastTouchDistance;\n    scale += delta * 0.005;\n    scale = Math.max(1, Math.min(scale, 4));\n    lightboxImg.style.transform = `scale(${scale}) translate(${moveX}px, ${moveY}px)`;\n    lastTouchDistance = currentDistance;\n  } else if (e.touches.length === 1 && isPanning && scale > 1) {\n    moveX = e.touches[0].clientX - startX;\n    moveY = e.touches[0].clientY - startY;\n    lightboxImg.style.transform = `scale(${scale}) translate(${moveX}px, ${moveY}px)`;\n  }\n}, { passive: false });\n\nlightboxImg.addEventListener(\'touchend\', function (e) {\n  if (e.touches.length === 0) {\n    isPanning = false;\n  }\n});\n\n\nwindow.addEventListener("popstate", function () {\n  const lightbox = document.getElementById("lightbox");\n  if (lightbox.style.display === "flex") {\n    lightbox.style.display = "none";\n    history.pushState(null, null, location.href); // إعادة الحالة حتى لا يخرج المستخدم\n  }\n});\n\n// عند فتح اللايت بوكس، أضف حالة إلى التاريخ\nfunction openLightbox(imgArray, category) {\n  currentLightboxImages = imgArray;\n  currentLightboxIndex = 0;\n  showLightboxImage();\n  const lightbox = document.getElementById("lightbox");\n  lightbox.style.display = "flex";\n  document.getElementById("lightbox-category").textContent = category || "";\n\n  // منع إغلاق اللايت بوكس عند الضغط على الصورة نفسها\n  document.getElementById("lightbox-img").onclick = e => {\n    e.stopPropagation();\n  };\n\n  const leftArrow = document.querySelector("#lightbox button:nth-of-type(1)");\n  const rightArrow = document.querySelector("#lightbox button:nth-of-type(2)");\n  if (imgArray.length <= 1) {\n    leftArrow.style.display = "none";\n    rightArrow.style.display = "none";\n  } else {\n    leftArrow.style.display = "block";\n    rightArrow.style.display = "block";\n  }\n\n  history.pushState(null, null, location.href); // إضافة الحالة عند فتح اللايت بوكس\n}\n\nwindow.history.pushState({}, "");\n\n<\/script>\n</body>\n</html>\n\n    '}})}},n=>{var e=e=>n(n.s=e);n.O(0,[636,593,792],()=>e(2936)),_N_E=n.O()}]);